== Clauses not Containing Normative Material

=== The abstract idea of the hydrology phenomenon

Processes that continuously deplete and replenish water resources cause or result in a wide range of phenomena that are the subject of monitoring, modeling and reporting in hydrology and related sciences. These distinctly named or otherwise uniquely identified real-world hydrologic phenomena are conceptualized and referred to as hydrologic features in this standard. This standard applies to data and data products that represent these hydrologically defined features.

[#figure2]
.Processes of the Hydrologic Cycle
image::figures/fig2.png[]

Water is moving from the atmosphere to the Earth and back to the atmosphere due to the processes forming the Water Cycle (link:#figure2[Figure 2]). Water from precipitation reaching the land surface is accumulated in water bodies occupying empty space on the land surface or in water bearing formations of soil and rock. Excess water overflows these formations and is driven downhill by gravity. Water flowing over soil or rock causes erosion to occur. This erosion tends to concentrate flowing water into water bodies that flow downhill using a connecting system of channels intersecting other water bodies along their way to a common outlet, conceptualized as a potentially complex outfall feature.

Looking back upstream from the outfall, the corresponding catchment feature can be described as a main linear flowpath feature, an areal feature, a boundary feature that encompasses the drained area, a network of water body features, a network of channel features, or a network of hydrometric station features, all representing the catchment. The concepts and terminology used in the preceding sentences form the conceptual and semantic basis for this standard.

As described above, the most general abstraction of the hydrology phenomenon is the catchment. A catchment is a recognized unit of study where hydrologic processes form physiographic features that are realized in various data products. In this specification, the term realization is used to imply that a catchment is recognized and identified for the purpose of referencing it by name or within a topology of other catchments. The term representation is used where geometry is used to represent a catchment's physical features. Using these definitions, we can say that a catchment is an unrealized conceptual feature that can be realized by features for use in topological networks and features with explicit geometry.

Depending on application and scale, the same catchment may be realized in many different ways. The following describe different examples where this multiple realization concept is important:

- The most typical example is that scaling a map-visualization up or down leads to multiple more or less detailed representations of the same realized hydrologic feature.
- Analyses and reports from various disciplines reference differing spatial representations of the same conceptual catchment.
- Some applications require cartographic (visual) representations while others are focused on topological (network connectivity) realizations only (link:#figure3[Figure 3]).
- A catchment may be represented geometrically by streamlines, drainage area or the bounding polygon, or realized topologically as a face, edge, and/or nodes.

Catchments can be realized as geographic streams and outfalls, simplified geographic stream representations, schematics of streams and outfalls, an aggregate of catchments, simplified representations of catchment aggregates, or schematics showing how catchments relate.

The concept of catchment used in this standard is that it is described physically as illustrated above. It can also be described as the recognized unit of water resources assessment and management across administrative jurisdictions. In multi-stakeholder collaboration and cross-domain research projects, the catchment is recognized as a shared monitoring and reporting unit, in that monitoring stations are usually on a river in a recognized catchment, attributes of the catchment may be in reference to its geometry, and its inflow and outflow are network locations connecting it to other catchments in a topology. Examples of catchments include "Hydrologic Unit Code" (HUC) catchments defined by the U.S. Geological Survey for research and regulatory data systems to use as a reference [7] and "River Basin Districts" of the European Water Framework Directive [1].

[#figure3]
.Illustration of multiple representations of a catchment
image::figures/fig3.png[]

[#section6_3]
=== Catchment and realizations of the catchment concept

The core concept of the HY_Features model is that a study of the Hydrology phenomenon will reference common conceptual entities of the real world such as catchment, water body, channel, or stream gaging site, through the use of features according to a specific model (as per ISO 19109 General Feature Model). Depending on the field of study or application, complex hydrology phenomenon features may be realized in many ways. This leads to the idea that each study of a catchment may portray it in a particular way leading to multiple realizations of the same conceptual entity.

[#figure4]
.Idealized catchment. This idealized catchment diagram is used to represent the catchment concept with no emphasis on any realization or representation. In the diagrams below, aspects of this diagram are highlighted to emphasize particular concepts of the HY_Features conceptual model.
image::figures/fig4.png[]

Across hydrologic disciplines the concept of catchment defined in this standard is the recognized conceptual unit of study where hydrologic processes take place. Catchment boundary, catchment area, and linear flowpath are the most common geometric realizations of a catchment, and are widely used to create cartographic views of a catchment. Map layers that separately visualize the hydrographic network of water bodies (typically as blue lines for small rivers and blue polygons for larger rivers and lakes) and of channels (typically lines displaying a drainage pattern indicating the path flow may follow), or a network of hydrometric monitoring stations, are usually combined to portray the represented catchment as a whole. Such cartographic data products are usually exposed in map services, while the water body or channel features are provided with an appropriate geometry and location usually in features services. To illustrate these ideas, link:#figure4[Figure 4] shows an idealized watershed with different graphical representations highlighted.

[#figure5]
.Multiple graphical realizations of a catchment (from top left to bottom right): a) Catchment boundary, b)   Catchment area, c) flowpath of catchment d) network of sub catchments, e) cartographic view, f) abstract flow paths, g) hydrographic network, h) network of logically connected monitoring stations.
image::figures/fig5.png[]

Each of these graphical realizations is a different way of looking at the catchment and its interaction with other features. It is generally not possible to inspect a particular realization and understand all characteristics of the catchment because different types of features are often realized using identical data models. For example, a map showing a set of catchment polygons may display an aggregate of sub-catchments, or a collection of catchment polygons that overlap each other occupying the same space. In order to understand what catchment concept is being realized, the more detailed information about their type and role in a data model needs to be declared. These relationships and potential constraints may be declared between a high-order catchment and the catchments generally nested therein, or between an aggregate network of catchments that encompasses nested catchments without any overlap, or the upstream-downstream direction of flow for a set of catchment polygons.

In some cases, a catchment may be realized as an identified feature without specified geometry that takes part in a topological network of catchments. This is common, for example, in data systems supporting hydrologic modeling. Catchment attributes needed to parameterize a model may be generated using various geospatial data sets, but the geometric information is not necessary for the actual modelling. In applications like this, and in data systems supporting such applications, a catchment can be realized by an identifier, attributes, and topological connections that are not necessarily the same as would be implied by geometric representation of a catchment. That is, while a catchment has a geometric representation that is an area, which would imply it is a topological face, the catchment can have a non-geometric realization that is a topological edge which conveys flow from inflow to outflow. This flexibility, where a realization of a catchment feature does not need to have an explicit geometric representation allows a decoupling of visual and conceptual concerns with the ability to explicitly link data products that would not otherwise be easily related.

=== Catchment hierarchy and network topology

Catchments may be connected in topological networks which provide continuity between catchments, the ability to aggregate catchments, and to trace catchment networks up- or down-stream. Topological connectivity is typically indicated by adjacent polygon edges, nesting of polygons, or through connection of linear features at nodes. However, since geometric realization of hydrography serves many purposes and may not be needed at all, it is not appropriate to rely only on geometry as the basis for topology. Instead, topology can be expressed as relationships between conceptual features of a particular type which may or may not have explicit geometric realizations.

[#figure6]
.(C1-C5, from left to right): C1, Typical catchments with one inflow and one outflow each; C2, Joined (conjoint) catchments flowing into a single downstream catchment; C3, catchments joining in a waterbody or wetland with no clear network; C4, catchments joining through intermittent or subsurface flows C5, catchments that join through areas of complex or braided channels
image::figures/fig6.png[]

In a network of catchments, morphological detail may be specified in many ways. Inflows are generally conceptual in headwaters, and outflows are often complex where water flows out of a network. As shown in link:#figure6[Figure 6] catchments may connect through simple confluences (C1), water bodies or wetlands (C3), intermittent or subsurface flows (C4) or complex braided streams (C5). Although these cases require different geographic representations, they can be represented using the same catchment topology. Since all these cases can be specified using simple topology, no special treatment is required to handle the variation of flow processes.

==== Hierarchy of catchments

Any catchment may be nested or aggregated in a larger containing catchment or split into multiple sub units forming a hierarchy of catchments. Two types of catchment hierarchy are supported in HY_Features: basic nesting and dendritic aggregation: 1) Basic nesting allows any catchment to have a reference to a containing catchment (link:#figure7[Figure 7]). This allows collections of sub-catchments to be grouped into larger units, but does not define any particular interconnections between these sub-catchments. 2) Dendritic hierarchies are collections of catchments with simple topological relationships that allow determination of contribution of flow to downstream catchments. To reflect the organization of catchments in dendritic networks, a special dendritic catchment is defined that permanently contributes exorheic flow to a receiving catchment (link:#figure8[Figure 8]), and an interior catchment of endorheic flow that contributes temporarily to a receiving catchment.

[#figure7]
.Catchment hierarchy – A catchment (dark grey), may be nested within a containing catchment which is another catchment (light grey)
image::figures/fig7.png[]

[#figure8]
.Catchment hierarchy – A catchment (C1, C2, or C3) may be part of a simple dendritic network of catchments which is also a catchment.
image::figures/fig8.png[]

==== Topological network of catchments

Given the idea that a non-geospatial schematic representation of a feature can show its connection in a topological network, a catchment can be thought of as a hydrologic unit whose terrain and morphology results in a topological link between inflow and outflow. The red line in link:#figure9[Figure 9] illustrates how a single catchment, represented by a boundary, an area, a stream network, and a main flowline, could also be represented using a single line that is not geospatially representative but is a valid schematic representation of the connection between inflow and outflow.

[#figure9]
.A catchment area (grey) and a flowpath connecting inflow to outflow (red) depicting a definable unit where hydrological processes take place.
image::figures/fig9.png[]

[#figure10]
.Catchments contributing to an identified outflow node. Note that some catchments contribute to a common outflow node.
image::figures/fig10.png[]

[#figure11]
.Catchments receive inflow via an identified inflow node. Note that nodes are not necessarily geographic features, but are rather nodes in a graph representation of the river network.
image::figures/fig11.png[]

The catchment C1, shown in link:#figure10[Figure 10], contributes flow to outflow node n1. Node n2, shown in link:#figure11[Figure 11], contributes inflow to catchment C1. Networks of catchments can be constructed using this construct and the idea that two or more catchments that flow into the same downstream catchment, first flow to the same outflow node which is the inflow node of the receiving downstream catchment. In a network of dendritic catchments, outflow nodes on the network serve only one receiving catchment.

Nodes may seem to stand alone as points of interaction in the network, but In reality, they are (potentially complex) watershed outlets, denoted as outfall features. Whether an outfall (node) is referred to as an inflow or outflow node is always in reference to a particular catchment. This means that a node serves as the outflow node of some contributing catchment(s) and the inflow node of some receiving catchment(s). In this standard, the inflow and outflow role names of the conceptual outfall (node) are used to unambiguously describe the node's role with respect to a catchment.

In a dendritic network, the outflow node that one or more dendritic catchments flow to (which is not necessarily a single geometric point) must contribute to one and only one receiving catchment, unless it is a terminal catchment. Given that the dendritic catchment is defined as a special type of the more general catchment concept, it inherits the general nesting as defined for the catchment as shown in link:#figure7[Figure 7].

Being topological nodes, inflow and outflow nodes have no explicit positions but are potentially complex watershed outlets. In fact, a node may be represented by a complex geometry with multiple parts. This is important in the case of a catchment that contains a broad river bottom with complex braided channels and two or more primary inflows. There may be no clear way to identify an inflow location, but from a topological perspective each contributing catchment can be said to contribute to the same node and that diffused inflow can be said to contribute to the catchment in question (link:#figure12[Figure 12]). Note that in this case, the complexity required to support geospatially accurate linear referencing may be lost in the interest of easy network navigation capabilities.

It is worth noting that non-dendritic networks are often represented as a dendritic catchment network by introducing joint catchments that contain the non-dendritic parts. link:#figure12[Figure 12] shows an example of a network with a non-dendritic topology, where it is not possible to determine to what extent flow from catchment F contributes to catchments E, B or C (C7). C8 shows the same topology where catchments E, B, and C have been aggregated and the nodes N2 and N3 are treated as a single virtual inflow node, so that all the flow from catchments D and F accumulate in the resulting catchment X. Using this encapsulation approach, catchments can be represented using a simple tree structure where an upstream-downstream relation can be built without the need for complex hydrography between inflow and outflow nodes.

[#figure12]
.Encapsulation of non-dendritic stream network topology. The left figure shows a case where it is not possible to determine to what extent flow from catchment F contributes to catchments E, B or C. The right figure shows how catchments E, B, and C can be aggregated so nodes N2 and N3 are treated as a single virtual inflow node, so that all the flow from catchments D and F accumulate in the resulting catchment X.
image::figures/fig12.png[]

[#section6_4]
=== River reference system
Considering any identified location on a network as the outflow node of a contributing catchment, or the inflow node of a receiving catchment, an arbitrary new location can be placed on the network in reference to the existing outfall up- or downstream. Understanding such a reference as a positioning "along a river", the linear flowpath representation of a catchment can be used for linear referencing. HY_Features defines the concept of a river reference system which has three components: 1) an origin at an inflow or outflow outfall; 2) a shape defined by the flowpath of a catchment that connects to the origin; and 3) a linear distance or relative (percentage) measurement system. Each catchment has its own reference system which can be combined as necessary using catchment topology; each river reference system must have one outfall (origin) and one representing flowpath (shape). link:#figure13[Figure 13], and Figure 14 illustrate how a newly introduced network location can be located downstream of a catchment inflow, or upstream of a catchment outflow.

[#figure13]
.Position (yellow dot) downstream of a reference point (red dot). While referenced positions (P) are usually referenced to permanent locations like confluences (r2), they can also be considered to be the outflow of contributing catchment and thus, the origin of a river reference system of their own.
image::figures/fig13.png[]

[#figure14]
.Position (yellow dot) upstream of a reference point (red dot). Typically, r1 would be the origin and P, the referenced point; however, the river reference system model allows for the referenced point to be the origin of it’s own river reference system.
image::figures/fig14.png[]

=== Hydrographic and hydrometric networks

Hydrographic data is commonly organized into networks. HY_Features includes catchment realizations for the hydrographic network of waterbodies, channel network connected conveyances, and hydrometric network of monitoring stations. The following sections first describe the individual network types uniquely, then describe how these networks relate to each other in the context of the overall HY_Features model. The main function of these network models is to allow an aggregate of hydrologic features at one scale to act as a single encapsulated entity at another scale. 

==== Hydrographic and channel networks

Following the definitions in the UNESCO-WMO "International Glossary of Hydrology" [9] a water body is understood as the mass of liquid water accumulated on or below the land surface as a body of flowing water, which in some parts may have stagnant water that is not moving or flowing. The water body concept formalized in this specification is consistent with this definition, but focuses on surface water bodies only. A conceptual model capturing the specifics of bodies of groundwater as well as aquifers containing groundwater are provided by the WaterML2 Part 4 - GroundwaterML2 specification [6]. 

A watercourse is commonly understood as a natural or man-made channel through or along which water may or may not flow [9]. A water body is generally a flowing body of water contained by a natural watercourse, but could also be in a manmade open or closed conduit [9]. Given that the channel network (or drainage pattern) exists independent of whether it contains water, HY_Features conceptually separates natural and manmade hydrographic features into the body of water and the unit that contains the water body. This distinction is helpful to separate concerns of hydrology--studying the occurrence, accumulation, and circulation of water--and hydraulics--focused on the analysis and design of watercourses. Note that flow-through lakes and lakes without outflows are considered to be water bodies whose container is modeled as a surface depression.

Water bodies with their associated water courses can be aggregated into hydrographic and channel networks identified as the hydrographic or channel network of the catchment the network drains. Individual waterbodies can be described with vertical cross- or longitudinal sections. A water body may also be stratified into distinct horizontal layers for distinct thermal, salinity, oxygen, nutrient, or storage characteristics. Water may be stored and managed in reservoirs for future use, regulation, or control. Conceptually, each water body accumulating water may be managed as a reservoir. To model reservoir storage at multiple reservoir stages or elevations, HY_Features includes an association between a reservoir and its waterbody stratum. The concept of stratum could also be applied to bathymetric contours of a lake to describe the container of a lake water body. 

To place waterbodies topologically or geographically in a network, the HY_Features model provides a mechanism to associate waterbodies with a realization of a catchment outfall. In the case of a hydrographic network that realizes an entire catchment, the HY_Features catchment relationships can be used for both the larger catchment realized by the whole hydrographic network and the catchment(s) whose outfalls are used to locate waterbodies within the hydrographic network. This builds the idea outlined in link:#section6_3[section 6.3] in that every identified waterbody has a conceptual catchment that can be arranged topologically within a catchment network and is described in greater detail in link:#section6_5_3[section 6.5.3].

==== Hydrometric networks

Water bodies are observed using monitoring stations which are typically physical locations with a well-established cross section they monitor. It is common practice to locate a monitoring station in relation to local landmarks and permanent reference points along a stream or in relation to the outlet of the monitored water body. The river reference system, described in link:#section6_4[section 6.4], gives a mechanism to locate such points in relation to establish catchment outfall locations such as confluences. When aggregated into a network, monitoring stations within a catchment can be said to make up a logically connected hydrometric network which monitors a catchment. 

The purpose of HY_Features hydrometric stations and network is to support linking identified monitoring stations, (thought to be the sampling feature in terms of the observations and measurements standard) and a river or other hydrologic feature (thought to be the domain or sampled feature in terms of observations and measurements). The monitoring feature role of hydrometric features is unique in contrast to all other outfall realizations in HY_Features, which would be used as observed domain features in observations and measurements.

[#section6_5_3]
==== HydroNetwork: hydrographic network, channel network and station network - different views of catchment topology

Maps displaying a representation of a catchment are very common in hydrology research and engineering. Depending on the scientific concern, different aspects of the hydrology phenomenon are represented using application specific map symbols. Respecting the separation of scientific concerns, HY_Features distinguishes between these by defining separate realizations of the catchment and outfall concepts which may be simple points, lines, or polygons, and may be complex aggregate networks made up of collections of point, line, or polygon representations. The need to support such collections across scales is supported through the general concept of the HydroNetwork described below.
 
The holistic idea of catchment, where a conceptual catchment has many real-world realizations, allows us to consider realizations of a catchment that correspond to different phenomena as variations of a common catchment pattern. Using this approach, the relationship of a catchment to a set of catchments can be transferred to any representation of that catchment regardless of the geometric representation in a particular data product. For example, an entire hydrographic network representation of a catchment can have simple relationships to the hydrographic network of its up and downstream catchments if the network itself is understood to adopt basic catchment characteristics. 

This standard defines a hydrologically determined topology model of directed outfalls, acting as inflow or outflow nodes, and the catchment which can act as the link between them. This topological catchment network pattern can be transferred to context-specific network realizations such as hydrographic networks of water bodies or channel networks that may convey water, as well as to their various representations as (poly)lines and polygons. For example, a fixed landmark on a water body, a cross-section separating a watercourse, or a station along the network, can be considered to be outfalls (outflow nodes) of a contributing catchment (link); a flowpath representing a catchment may be drawn from an ‘inflow‘ node to the ‘outflow‘ node linking the nodes through the represented catchment. As with the hydrographic (water body) and channel (conveyance) network, the abstract catchment topology model can be applied to any logical or virtual network, e.g. a network of logically connected hydrometric stations. 

[#figure15]
.Cyclic nature of the HY_Features basic model
image::figures/fig15.png[]

link:#figure15[Figure 15] illustrates the circular relationship between five functional components of the HY_Features model: the catchment concept, catchment realization, hydro networks, waterbodies, and outfalls. The cyclic nature of the basic model supports crossing scale through nesting of more or less detailed catchment realizations.

==== FlowPath

In practice, catchments are associated with a single mainstem flowpath (link:#figure5[Figure 5c]). Some elevation-derived hydrographic datasets define one flowpath per catchment such that every line connecting two confluences has a single associated drainage area. Others have an identifiable mainstem river that flows from headwaters or inflow to outflow. In either case, the main flowpath typically carries the name of the catchment and its outlet is considered the mouth of the river or catchment. HY_Features includes a simple linear realization of the catchment concept that is meant to encompass the mainstem idea.

The flowpath concept is associated with a hydrographic or channel network in that any hydrographic or channel network can have one identified flowpath connecting its inflow to outflow node. In this way, at large scales, complex networks of channels can have one mainstem flowpath made up of many smaller scale reaches. At very small scales a network made up of one reach also has a single main flowpath. In both cases, the flowpath is associated with a catchment and should be understood to be the one linear connection between inflow and outflow node. Because hydrographic and channel networks are aggregates of waterbodies and channels, it follows that the flowpath concept is related to waterbodies and channels through the networks that aggregate them.



